<a id="ADR-004"></a>
# ADR-004: –í–∏–∫–æ–Ω—É–≤–∞—Ç–∏ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—é –º–µ–Ω—é –Ω–∞ –∫–ª—ñ—î–Ω—Ç—ñ  

## –°—Ç–∞—Ç—É—Å
–ü—Ä–∏–π–Ω—è—Ç–æ  

## –î–∞—Ç–∞
2025-09-28  

## –ö–æ–Ω—Ç–µ–∫—Å—Ç
–£ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –ø–µ—Ä–µ–≥–ª—è–¥–∞—é—Ç—å –º–µ–Ω—é (100‚Äì200 —Å—Ç—Ä–∞–≤) —Ç–∞ –∑–∞—Å—Ç–æ—Å–æ–≤—É—é—Ç—å —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –π —Ñ—ñ–ª—å—Ç—Ä–∏ (–∑–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—î—é, —Ü—ñ–Ω–æ—é, –ø–æ–ø—É–ª—è—Ä–Ω—ñ—Å—Ç—é —Ç–æ—â–æ).  
–ú–µ–Ω—é –Ω–∞ –∫–ª—ñ—î–Ω—Ç—ñ –æ–Ω–æ–≤–ª—é—î—Ç—å—Å—è –ø–µ—Ä—ñ–æ–¥–∏—á–Ω–æ (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º **–∫–æ–∂–Ω—ñ 15‚Äì30 —Ö–≤**). –ü–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏–∑–Ω–∞—á–∏—Ç–∏, –¥–µ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ –æ–±—Ä–æ–±–∫—É –¥–∞–Ω–∏—Ö: –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ —á–∏ –Ω–∞ –∫–ª—ñ—î–Ω—Ç—ñ, –∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ, –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–∞ –±–µ–∫–µ–Ω–¥ —Ç–∞ –≤–∏–º–æ–≥ —â–æ–¥–æ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—ñ –¥–∞–Ω–∏—Ö.

## –†—ñ—à–µ–Ω–Ω—è
–í–∏–∫–æ–Ω—É–≤–∞—Ç–∏ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—é **–Ω–∞ –∫–ª—ñ—î–Ω—Ç—ñ** –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é JavaScript.  
–û–±—Å—è–≥ –¥–∞–Ω–∏—Ö —î –≤—ñ–¥–Ω–æ—Å–Ω–æ –Ω–µ–≤–µ–ª–∏–∫–∏–º (–¥–æ –∫—ñ–ª—å–∫–æ—Ö —Å–æ—Ç–µ–Ω—å –∑–∞–ø–∏—Å—ñ–≤), —Ç–æ–º—É –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å –∫–ª—ñ—î–Ω—Ç—Å—å–∫–∏—Ö –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤ –±—É–¥–µ –¥–æ—Å—Ç–∞—Ç–Ω—å–æ—é. –¶–µ –∑–º–µ–Ω—à—É—î –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Å–µ—Ä–≤–µ—Ä–Ω–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤ —ñ –ø—Ä–∏—à–≤–∏–¥—à—É—î –≤–∑–∞—î–º–æ–¥—ñ—é –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∑ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º. –î–ª—è –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—ñ –¥–∞–Ω–∏—Ö —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –ø–µ—Ä—ñ–æ–¥–∏—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –º–µ–Ω—é –Ω–∞ –∫–ª—ñ—î–Ω—Ç—ñ (15‚Äì30 —Ö–≤). –ö–æ–º–∞–Ω–¥–∞ –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –≤—ñ–¥–∫—Ä–∏—Ç–æ—é –¥–æ –≤–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–Ω—è push-–æ–Ω–æ–≤–ª–µ–Ω—å (WebSocket / long polling) —É —Ä–∞–∑—ñ –∑–º—ñ–Ω–∏ –±—ñ–∑–Ω–µ—Å-–≤–∏–º–æ–≥.

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∏

1. **–§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ**
   - ‚úÖ –î–∞–Ω—ñ –∑–∞–≤–∂–¥–∏ –∞–∫—Ç—É–∞–ª—å–Ω—ñ
   - ‚úÖ –ú–µ–Ω—à–µ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–∞ –∫–ª—ñ—î–Ω—Ç
   - ‚ùå –ö–æ–∂–Ω–∞ –∑–º—ñ–Ω–∞ —Ñ—ñ–ª—å—Ç—Ä–∞ = –Ω–æ–≤–∏–π –∑–∞–ø–∏—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä
   - ‚ùå –ó–∞–π–≤–µ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–∞ –±–µ–∫–µ–Ω–¥ –ø—Ä–∏ –≤–µ–ª–∏–∫—ñ–π –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
   - üî¥ –í—ñ–¥—Ö–∏–ª–µ–Ω–æ: –Ω–µ–µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –ø—Ä–∏ –≤—ñ–¥–Ω–æ—Å–Ω–æ –Ω–µ–≤–µ–ª–∏–∫–æ–º—É –æ–±—Å—è–∑—ñ –¥–∞–Ω–∏—Ö —ñ –±–∞–∂–∞–Ω–Ω—ñ –∑–Ω–∏–∑–∏—Ç–∏ —á–∏—Å–ª–æ –∑–∞–ø–∏—Ç—ñ–≤.

2. **–ì—ñ–±—Ä–∏–¥–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥ (–∫–ª—ñ—î–Ω—Ç + long polling / WebSocket)**
   - ‚úÖ –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –±–∞—á–∏—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ –Ω–∞–≤—ñ—Ç—å –ø—Ä–∏ —á–∞—Å—Ç–∏—Ö –æ–Ω–æ–≤–ª–µ–Ω–Ω—è—Ö –º–µ–Ω—é
   - ‚úÖ –û–±—Ä–æ–±–∫–∞ –ø—Ä–æ—Å—Ç–∞ —ñ —à–≤–∏–¥–∫–∞ –Ω–∞ –∫–ª—ñ—î–Ω—Ç—ñ
   - ‚ùå –°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó (–ø–æ—Ç—Ä—ñ–±–Ω–æ –Ω–∞–ª–∞—à—Ç–æ–≤—É–≤–∞—Ç–∏ push-–æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∞–±–æ polling)
   - ‚ùå –î–æ–¥–∞—Ç–∫–æ–≤—ñ –≤–∏—Ç—Ä–∞—Ç–∏ –Ω–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫—É —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏
   - üî¥ –ù–∞—Ä–∞–∑—ñ –≤—ñ–¥—Ö–∏–ª–µ–Ω–æ —è–∫ –æ—Å–Ω–æ–≤–Ω–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç —á–µ—Ä–µ–∑ —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å —ñ –≤–∏—Ç—Ä–∞—Ç–∏, –ø—Ä–æ—Ç–µ –∑–∞–ª–∏—à–µ–Ω–æ —è–∫ –æ–ø—Ü—ñ—é –¥–ª—è –º–∞–π–±—É—Ç–Ω—å–æ—ó –µ–≤–æ–ª—é—Ü—ñ—ó —Å–∏—Å—Ç–µ–º–∏ (—è–∫—â–æ –∑—Ä–æ—Å—Ç—É—Ç—å –≤–∏–º–æ–≥–∏ –¥–æ –º–∏—Ç—Ç—î–≤–æ—ó —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó).

- –ö—ñ–ª—å–∫—ñ—Å—Ç—å —Å—Ç—Ä–∞–≤ —É –º–µ–Ω—é –æ–±–º–µ–∂–µ–Ω–∞, —Ç–æ–º—É —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –Ω–∞ –∫–ª—ñ—î–Ω—Ç—ñ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏–º–µ —à–≤–∏–¥–∫–æ –π –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ.  
- –¶–µ –∑–º–µ–Ω—à—É—î –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä —ñ –ø—Ä–∏—Å–∫–æ—Ä—é—î —Ä–æ–±–æ—Ç—É —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É.  
- –î–ª—è –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ –ø—Ä–∏–π–Ω—è—Ç–Ω–æ–≥–æ —Ä—ñ–≤–Ω—è –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—ñ –ø–µ—Ä–µ–¥–±–∞—á–µ–Ω–æ –ø–µ—Ä—ñ–æ–¥–∏—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –º–µ–Ω—é –Ω–∞ –∫–ª—ñ—î–Ω—Ç—ñ (15‚Äì30 —Ö–≤).  
- –Ø–∫—â–æ –≤ –º–∞–π–±—É—Ç–Ω—å–æ–º—É –∑'—è–≤–ª—è—Ç—å—Å—è –≤–∏–º–æ–≥–∏ –¥–æ –º–∏—Ç—Ç—î–≤–æ—ó —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó –∞–±–æ —á–∞—Å—Ç–∏—Ö –æ–Ω–æ–≤–ª–µ–Ω—å, –º–æ–∂–ª–∏–≤–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è WebSocket/long polling –±–µ–∑ —Å—É—Ç—Ç—î–≤–æ–≥–æ –ø–µ—Ä–µ–ø—Ä–æ—î–∫—Ç—É–≤–∞–Ω–Ω—è –∫–ª—ñ—î–Ω—Ç—Å—å–∫–æ—ó –ª–æ–≥—ñ–∫–∏.

## –ù–∞—Å–ª—ñ–¥–∫–∏
- ‚úÖ –®–≤–∏–¥–∫–∞ —Ä–µ–∞–∫—Ü—ñ—è —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É –±–µ–∑ —á–∞—Å—Ç–∏—Ö —Å–µ—Ä–≤–µ—Ä–Ω–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤  
- ‚úÖ –ó–Ω–∏–∂–µ–Ω–Ω—è –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–∞ –±–µ–∫–µ–Ω–¥  
- ‚ö†Ô∏è –î–∞–Ω—ñ –æ–Ω–æ–≤–ª—é—é—Ç—å—Å—è –∑ —ñ–Ω—Ç–µ—Ä–≤–∞–ª–æ–º —É 15‚Äì30 —Ö–≤; –º–æ–∂–ª–∏–≤—ñ –∫–æ—Ä–æ—Ç–∫—ñ –∑–∞—Ç—Ä–∏–º–∫–∏ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –æ—Å—Ç–∞–Ω–Ω—ñ—Ö –∑–º—ñ–Ω –≤ –º–µ–Ω—é  
- ‚ùå –ù–µ–º–∞—î –º–∏—Ç—Ç—î–≤–æ—ó —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó –º—ñ–∂ —É—Å—ñ–º–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏  
- üîÑ –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å —É –º–∞–π–±—É—Ç–Ω—å–æ–º—É —ñ–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏ WebSocket/long polling –¥–ª—è push-–æ–Ω–æ–≤–ª–µ–Ω—å –ø—Ä–∏ –ø–æ—Ç—Ä–µ–±—ñ

## –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è
- –°–ø—Ä–∏–Ω—Ç 3: –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –∫–ª—ñ—î–Ω—Ç—Å—å–∫–∏—Ö —Ñ—ñ–ª—å—Ç—Ä—ñ–≤ —ñ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –≤ JS; —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –º–µ—Ö–∞–Ω—ñ–∑–º –ø–µ—Ä—ñ–æ–¥–∏—á–Ω–æ–≥–æ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –º–µ–Ω—é (15‚Äì30 —Ö–≤) –∑ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—é –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —ñ–Ω—Ç–µ—Ä–≤–∞–ª—É.  
- –°–ø—Ä–∏–Ω—Ç 4+: –û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–µ –¥–æ—Å–ª—ñ–¥–∂–µ–Ω–Ω—è —Ç–∞ PoC –¥–ª—è push-–æ–Ω–æ–≤–ª–µ–Ω—å (WebSocket –∞–±–æ long polling) ‚Äî –æ—Ü—ñ–Ω–∏—Ç–∏ –≤–∞—Ä—Ç—ñ—Å—Ç—å, —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å —ñ –≤–ø–ª–∏–≤ –Ω–∞ —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É.  
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è: –æ–ø–∏—Å–∞—Ç–∏ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—é –∫–µ—à—É–≤–∞–Ω–Ω—è, invalidation –ø–æ–ª—ñ—Ç–∏–∫–∏ —Ç–∞ UX-–ø–æ–≤–µ–¥—ñ–Ω–∫—É –ø—Ä–∏ –æ–Ω–æ–≤–ª–µ–Ω–Ω—ñ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –ø–æ–∫–∞–∑–∞—Ç–∏ –±–∞–Ω–µ—Ä –ø—Ä–æ "–æ–Ω–æ–≤–ª–µ–Ω–æ" –∞–±–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–Ω–æ–≤–ª—é–≤–∞—Ç–∏ —Å–ø–∏—Å–æ–∫ –∑ –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è–º –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É).
