# Вимоги

## Легенда

Жирним курсивом - must have, решта - good to have (напевно не зробимо).

## Мета і обсяг

**Мета**:  
Система — це вебзастосунок для замовлення та доставки їжі. Вона дозволяє клієнтам переглядати меню, додавати страви у кошик і оформляти замовлення.  
Менеджери отримують інструменти для керування меню, кухарі — для прийому замовлень, а кур’єри — для доставки.  

**Обсяг**:

- **Для клієнтів:** перегляд меню, кошик, оформлення замовлення, оплата.  
- **Для персоналу:** кухарі бачать замовлення в реальному часі, кур’єри — замовлення, менеджери — інструменти адміністрування.  
- **Для системи:** підтримка реального часу для оновлень замовлень, забезпечення продуктивності та безпеки.  

Основні сторони:  

- *****Клієнти** (зареєстровані й "гості")***
- *****Менеджери** (адміністрування меню)***
- *****Кухарі** (приготовлення замовлень)***
- *****Кур’єри** (доставка)***
- *Платіжний провайдер* (онлайн-оплати)  

---

## Функціональні вимоги

### Меню страв

- *****<a id="FR-001">FR-001</a>**: Домашня сторінка відображає повний список страв у меню.***
- *****<a id="FR-002">FR-002</a>**: Клієнт може обрати категорію страв через вкладки зверху.***
- *****<a id="FR-003">FR-003</a>**: Клієнт може сортувати страви за ціною (зростання/спадання) у будь-якій категорії.  
- *****<a id="FR-004">FR-004</a>**: Клієнт може фільтрувати страви за інгредієнтами (мають/не мають) у будь-якій категорії.  
- *****<a id="FR-006">FR-006</a>**: Система дозволяє відмітити страву як улюблену або зняти цю відмітку.
- *****<a id="FR-007">FR-007</a>**: Система відображає всі улюблені користувачем страви як окрему категорію.
- *****<a id="FR-008">FR-008</a>**: Система дозволяє шукати страви за назвою у будь-якій категорії.
- *****<a id="FR-009">FR-009</a>**: Система має окрему категорію під кастомну піцу.
- *****<a id="FR-010">FR-010</a>**: Система дозволяє надавати будь-які інгредієнти з наданого списку до кастомної піци.

### Замовлення страв

Всі ці можливості надаються клієнтам.

- *****<a id="FR-011">FR-011</a>**: Система дозволяє класти страви в кошик у зазначеній кількості.***
- *****<a id="FR-012">FR-012</a>**: Система дозволяє прибирати страви з кошику.***
- *****<a id="FR-013">FR-013</a>**: Система показує сумарну вартість всього в кошику.***
- *****<a id="FR-014">FR-014</a>**: Система дозволяє змінювати кількість кожної страви в кошику.***
- *****<a id="FR-015">FR-015</a>**: Система дозволяє прибрати будь-які інгредієнти з будь-якої страви в кошику.
- *****<a id="FR-016">FR-016</a>**: Система вимагає непорожнього кошику, щоб офоримити замовлення.***
- *****<a id="FR-017">FR-017</a>**: Система вимагає вказати ім'я, спосіб доставки*** та спосіб оплати, ***щоб завершити замовлення.***
- *****<a id="FR-018">FR-018</a>**: Система надає*** 2 ***способи доставки:*** самовивіз та ***вказати адресу***.
- *****<a id="FR-005">FR-005</a>**: Система дозволяє вказати самовивіз як спосіб доставки.***
- *****<a id="FR-019">FR-019</a>**: Система надає 3 способи оплати: готівка, кредитка дистанційно та кредитка при отриманні.
- *****<a id="FR-021">FR-021</a>**: Система дозволяє залишити кур'єру чайові.

### Доставка замовлень

- *****<a id="FR-022">FR-022</a>**: Замовлення послідовно переходить через стани: «не готове» → «приготоване» → «у доставці» → «доставлене» → «сплачене».***
- *****<a id="FR-052">FR-052</a>**: Кур'єр може відкривати список приготованих замовлень.***
- *****<a id="FR-023">FR-023</a>**: Кур’єр може взяти приготоване замовлення.***
- *****<a id="FR-024">FR-024</a>**: Коли кур’єр обирає замовлення, усі приготовані замовлення відображаються з номерами.***
- *****<a id="FR-025">FR-025</a>**: Кур’єр бачить активні (приготовані) замовлення***.  
- *****<a id="FR-026">FR-026</a>**: Кур’єр може позначити замовлення як доставлене одразу після доставки.***
- *****<a id="FR-053">FR-053</a>**: Кур'єр може сортувати адреси доставок за відстанню до кур'єра.

### Оплата замовлень

- *****<a id="FR-027">FR-027</a>**: Клієнт може обрати спосіб оплати: готівка, картка на місці, картка онлайн.
- *****<a id="FR-028">FR-028</a>**: Дистанційна оплата обробляється через довіреного платіжного провайдера.  
- *****<a id="FR-029">FR-029</a>**: Замовлення з дистанційною оплатою маркується як сплачене заздалегідь після підтвердження від провайдера. 
- *****<a id="FR-030">FR-030</a>**: Система зберігає для кожного замовлення спосіб оплати та ціну.***
- *****<a id="FR-031">FR-031</a>**: Менеджери бачать у системі інформацію про статус, ціну та оплату кожного замовлення.***  
- *****<a id="FR-032">FR-032</a>**: Замовлення, сплачене готівкою, менеджер маркує як «сплачене вручну», коли кур’єр приносить гроші.***
- *****<a id="FR-033">FR-033</a>**: Замовлення, сплачене карткою, система маркує як «сплачене автоматично» після підтвердження транзакції.***  

### UX та акаунти

- *****<a id="FR-057">FR-034</a>**: Система надає можливість вмикати темну тему з будь-якої сторінки.
- *****<a id="FR-035">FR-035</a>**: Користувач має змогу зробити замовлення без реєстрації.***
- *****<a id="FR-036">FR-035</a>**:: Незареєстрований клієнт може створити акаунт.
- *****<a id="FR-037">FR-037</a>**: Клієнт може увійти в акаунт за допомогою номера телефона та пароля.
- *****<a id="FR-038">FR-038</a>**: Залогінений клієнт може вийти з акаунту.
- *****<a id="FR-039">FR-039</a>**: Кожен акаунт користувача автоматично приймає участь в програмі лояльності.
- *****<a id="FR-040">FR-040</a>**: Система веде та показує історію замовлень для кожного акаунту.
- *****<a id="FR-041">FR-041</a>**: Система зберігає контактні дані та останню адресу замовлення кожного залогіненого користувача.
- *****<a id="FR-042">FR-042</a>**: Для залогінених користувачів система автоматично підставляє контактні дані та адресу у форму замовлення.  

### Керування меню

- *****<a id="FR-043">FR-043</a>**: Менеджер може додати страву до меню за допомогою форми, яка вимагає назву, опис, фото та ціну.***
- *****<a id="FR-044">FR-044</a>**: Менеджер може відредагувати страву в меню за допомогою тої ж форми.***
- *****<a id="FR-045">FR-045</a>**: Система повідомляє клієнта, якщо страва, яка лежала в його кошику чи неоплаченому замовленні, була відредагована.
- *****<a id="FR-046">FR-046</a>**: Менеджер може видалити страву з меню.***
- *****<a id="FR-047">FR-047</a>**: Система повідомляє клієнта, якщо страва, яка лежала в його кошику чи неоплаченому замовленні, була видалена.
- *****<a id="FR-048">FR-048</a>**: Менеджер може позначити страву як доступну чи тимчасово недоступну.***
- *****<a id="FR-049">FR-049</a>**: Система показує тимчасово недоступні страви клієнтам, але в кінці всіх списків та сірими.***
- *****<a id="FR-050">FR-050</a>**: Клієнти не можуть замовити видалену або тимчасово недоступну страву.***

### Робота персоналу

- *****<a id="FR-051">FR-051</a>**: Система надає змогу транслювати замовлення із примітками кухареві на екран, у реальному часі.***
- *****<a id="FR-054">FR-054</a>**: Менеджер може відкривати звіти та показувати дані по продажах за різний час (звіти про що? як у злагоді?).
- *****<a id="FR-055">FR-055</a>**: Клієнт не може замовляти більше страв за встановлений менеджером ліміт.***
- *****<a id="FR-056">FR-056</a>**: Клієнту прихожить повідомлення, якщо ліміт перевищений.***

### Техпідтримка

- *****<a id="FR-057">FR-057</a>**: Система надає клієнту можливість переглядати часті питання на сторінці FAQ.***
- *****<a id="FR-058">FR-058</a>**: Система надає клієнту можливість переглядати питання за темою.
- *****<a id="FR-059">FR-059</a>**: Система показує клієнтам номер техпідтримки.***

## Нефункціональні вимоги

### Припущення та обмеження

- *****<a id="A-001">A-001</a>**: Нормальне навантаження є 100 одночасних користувачів.***
- *****<a id="A-002">A-002</a>**: Географія доставки обмежена встановленими зонами сервісу.***
- *****<a id="C-001">C-001</a>**: Менеджерські операції доступні лише авторизованим користувачам з роллю *manager*.***
- *****<a id="C-002">C-002</a>**: Дистанційні оплати виконуються виключно через інтегрований платіжний провайдер; дані карток не зберігаються.

### Ефективність продуктівності

***Ці умови виконуються для 95% запитів при нормальному навантаженні в 100 одночасних користувачів, якщо не вказано інше.***

- **<a id="PERF-001">PERF-001</a>**: ***Сторінка меню страв має вантажитись за 1с.***
- **<a id="PERF-002">PERF-002</a>**: При виборі категорії, сортуванні, фільтруванні сторінка меню страв має оновитись за 0.5с.
- **<a id="PERF-003">PERF-003</a>**: ***Коли хтось просуває стан замовлення, він змінюється за 0.5с.***
- **<a id="PERF-005">PERF-005</a>**: ***Вхід в акаунт відбувається за 1с.***
- **<a id="PERF-006">PERF-006</a>**: ***Вихід з акаунту відбувається за 0.5с.***

### Безпека

- **<a id="SEC-001">SEC-001</a>**: ***Всі паролі хешуються argon2id зі значеннями мороки, рекомендованими owasp.***
- **<a id="SEC-002">SEC-002</a>**: Вся комунікація де треба протокол HTTP відбувається винятково через HTTPS з TLS 1.2.
- **<a id="SEC-003">SEC-003</a>**: Система підтримує TLS 1.3 для всіх комунікацій.
- **<a id="SEC-004">SEC-004</a>**: Система ніколи не зберігає платіжні реквізити клієнта.
- **<a id="SEC-005">SEC-005</a>**: Система вимагає підтвердження дистанційної оплати від банківського застосунку.

### Зручність

***Ці умови виконуються для 80% тестових користувачів, незнайомих з системою, без пояснень чи тренування від нас.***

- **<a id="USAB-001">USAB-001</a>**: ***Клієнти мають змогти щось замовити за 3хв.***
- **<a id="USAB-002">USAB-002</a>**: Клієнти мають змогти створити акаунт за 2хв.
- **<a id="USAB-003">USAB-003</a>**: ***Кур'єри мають змогти взяти замовлення за 1хв.***
- **<a id="USAB-004">USAB-004</a>**: ***Кур'єри мають змогти здати замовлення за 30с.***

### Надійність 

- **<a id="REL-001">REL-001</a>**: **Uptime** системи за місяць ≥ **99.5%**.  
- **<a id="REL-002">REL-002</a>**: Кошик користувача зберігається локально при втраті зв’язку і відновлюється після перепідключення.

---

## Ризики та відкриті питання

- *****<a id="R-001">R-001</a>**: Відмова або затримки платіжного провайдера можуть заблокувати замовлення → потрібна обробка стану «очікує підтвердження».***
- *****<a id="R-002">R-002</a>**: Точність геолокації кур’єра може бути низькою → потрібні резервні механізми (адреса/контакт).
- *****<a id="OQ-002">OQ-002</a>**: Як саме визначаються та оновлюються зони доставки?***
